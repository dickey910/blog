<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js 基础 | 前端学习笔记</title>
    <meta name="description" content="前端大乱炖——web前端,HTML5,CSS3,Javascript,SVG,canvas,vue...">
    <meta name="keywords" content="web前端,HTML5,CSS3,Javascript,SVG,canvas,vue...">
  <meta name="anthor" content="Denzel">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="msapplication-TileColor" content="#000000">
  <link rel="icon" href="/blog/vuepress/logo.png">
    
    <link rel="preload" href="/blog/vuepress/assets/css/0.styles.86b60527.css" as="style"><link rel="preload" href="/blog/vuepress/assets/js/app.a4dc5b38.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/4.de79488f.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/109.2739fe0d.js" as="script"><link rel="preload" href="/blog/vuepress/assets/js/30.5de5a6dd.js" as="script"><link rel="prefetch" href="/blog/vuepress/assets/js/1.cab400b8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/10.d790bfcb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/100.721f9ca2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/101.cc5f8a9e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/102.f9834015.js"><link rel="prefetch" href="/blog/vuepress/assets/js/103.6beda8cc.js"><link rel="prefetch" href="/blog/vuepress/assets/js/104.b9de3feb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/105.3aa4d626.js"><link rel="prefetch" href="/blog/vuepress/assets/js/106.b8b72b8a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/107.62bb8989.js"><link rel="prefetch" href="/blog/vuepress/assets/js/108.3a3ab7ab.js"><link rel="prefetch" href="/blog/vuepress/assets/js/11.76b467df.js"><link rel="prefetch" href="/blog/vuepress/assets/js/110.3f1d4322.js"><link rel="prefetch" href="/blog/vuepress/assets/js/111.eb8573d8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/112.ea42d3a6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/113.92a810f2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/114.d7d8ab32.js"><link rel="prefetch" href="/blog/vuepress/assets/js/115.07cbbc42.js"><link rel="prefetch" href="/blog/vuepress/assets/js/116.b8a2c56a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/117.3a9f5025.js"><link rel="prefetch" href="/blog/vuepress/assets/js/118.3b6fc25a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/119.7030b948.js"><link rel="prefetch" href="/blog/vuepress/assets/js/12.40c8dd81.js"><link rel="prefetch" href="/blog/vuepress/assets/js/120.435b50ac.js"><link rel="prefetch" href="/blog/vuepress/assets/js/121.73c5a4b0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/13.b9223d75.js"><link rel="prefetch" href="/blog/vuepress/assets/js/14.1ac6e7c6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/15.d9afb61e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/16.c30b8855.js"><link rel="prefetch" href="/blog/vuepress/assets/js/17.14528486.js"><link rel="prefetch" href="/blog/vuepress/assets/js/18.7e645f0d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/19.a3f3d52c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/20.b5931848.js"><link rel="prefetch" href="/blog/vuepress/assets/js/21.df1a44fd.js"><link rel="prefetch" href="/blog/vuepress/assets/js/22.0e89c376.js"><link rel="prefetch" href="/blog/vuepress/assets/js/23.34d9f68e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/24.daed640c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/25.85835054.js"><link rel="prefetch" href="/blog/vuepress/assets/js/26.0e0a764e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/27.7be31a65.js"><link rel="prefetch" href="/blog/vuepress/assets/js/28.beb4b537.js"><link rel="prefetch" href="/blog/vuepress/assets/js/29.60321212.js"><link rel="prefetch" href="/blog/vuepress/assets/js/31.fc644c64.js"><link rel="prefetch" href="/blog/vuepress/assets/js/32.b7b55014.js"><link rel="prefetch" href="/blog/vuepress/assets/js/33.233f0adf.js"><link rel="prefetch" href="/blog/vuepress/assets/js/34.a63ce3f6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/35.ea5f577f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/36.5ba274a5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/37.0c34d57f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/38.bd7ea076.js"><link rel="prefetch" href="/blog/vuepress/assets/js/39.d3830ed9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/40.417f7981.js"><link rel="prefetch" href="/blog/vuepress/assets/js/41.7ddf2157.js"><link rel="prefetch" href="/blog/vuepress/assets/js/42.d7df32ad.js"><link rel="prefetch" href="/blog/vuepress/assets/js/43.25f0eb95.js"><link rel="prefetch" href="/blog/vuepress/assets/js/44.ff4d7ba0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/45.fbb2a2a6.js"><link rel="prefetch" href="/blog/vuepress/assets/js/46.7f92fe4d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/47.0334b675.js"><link rel="prefetch" href="/blog/vuepress/assets/js/48.99fa01b9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/49.f3bf467d.js"><link rel="prefetch" href="/blog/vuepress/assets/js/5.ef1cdb1f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/50.59a222e1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/51.5ea47b0b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/52.a076cf26.js"><link rel="prefetch" href="/blog/vuepress/assets/js/53.62449883.js"><link rel="prefetch" href="/blog/vuepress/assets/js/54.164e4cda.js"><link rel="prefetch" href="/blog/vuepress/assets/js/55.a6461f7f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/56.f294e4fc.js"><link rel="prefetch" href="/blog/vuepress/assets/js/57.d13e5f9e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/58.f1b3bacc.js"><link rel="prefetch" href="/blog/vuepress/assets/js/59.860bece0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/6.7db68413.js"><link rel="prefetch" href="/blog/vuepress/assets/js/60.639b6407.js"><link rel="prefetch" href="/blog/vuepress/assets/js/61.0c9e7c98.js"><link rel="prefetch" href="/blog/vuepress/assets/js/62.6f941890.js"><link rel="prefetch" href="/blog/vuepress/assets/js/63.fe1005ae.js"><link rel="prefetch" href="/blog/vuepress/assets/js/64.ecf97474.js"><link rel="prefetch" href="/blog/vuepress/assets/js/65.6085ce3c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/66.fcaf30b1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/67.f2df1160.js"><link rel="prefetch" href="/blog/vuepress/assets/js/68.b4b6cc3c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/69.c7e9093e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/7.8939793b.js"><link rel="prefetch" href="/blog/vuepress/assets/js/70.1eb1b846.js"><link rel="prefetch" href="/blog/vuepress/assets/js/71.bd7593be.js"><link rel="prefetch" href="/blog/vuepress/assets/js/72.b16f74e2.js"><link rel="prefetch" href="/blog/vuepress/assets/js/73.33168f51.js"><link rel="prefetch" href="/blog/vuepress/assets/js/74.27fdc0d3.js"><link rel="prefetch" href="/blog/vuepress/assets/js/75.31705dd9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/76.064135c9.js"><link rel="prefetch" href="/blog/vuepress/assets/js/77.32c29e46.js"><link rel="prefetch" href="/blog/vuepress/assets/js/78.a91fe5c1.js"><link rel="prefetch" href="/blog/vuepress/assets/js/79.d40a2440.js"><link rel="prefetch" href="/blog/vuepress/assets/js/8.4f373690.js"><link rel="prefetch" href="/blog/vuepress/assets/js/80.1a524a9f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/81.e2d0780a.js"><link rel="prefetch" href="/blog/vuepress/assets/js/82.e24844a4.js"><link rel="prefetch" href="/blog/vuepress/assets/js/83.0739e6b7.js"><link rel="prefetch" href="/blog/vuepress/assets/js/84.85082fe8.js"><link rel="prefetch" href="/blog/vuepress/assets/js/85.02c7d4fb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/86.1253e906.js"><link rel="prefetch" href="/blog/vuepress/assets/js/87.b8423623.js"><link rel="prefetch" href="/blog/vuepress/assets/js/88.c60ff1b5.js"><link rel="prefetch" href="/blog/vuepress/assets/js/89.3a74ce7c.js"><link rel="prefetch" href="/blog/vuepress/assets/js/9.5265b01e.js"><link rel="prefetch" href="/blog/vuepress/assets/js/90.e3c71911.js"><link rel="prefetch" href="/blog/vuepress/assets/js/91.7d0c9dc0.js"><link rel="prefetch" href="/blog/vuepress/assets/js/92.a08ec83f.js"><link rel="prefetch" href="/blog/vuepress/assets/js/93.6ed7e008.js"><link rel="prefetch" href="/blog/vuepress/assets/js/94.ec93d327.js"><link rel="prefetch" href="/blog/vuepress/assets/js/95.c2b8ce70.js"><link rel="prefetch" href="/blog/vuepress/assets/js/96.b0fedbad.js"><link rel="prefetch" href="/blog/vuepress/assets/js/97.d72dbfbb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/98.a52eeccb.js"><link rel="prefetch" href="/blog/vuepress/assets/js/99.9fb3fdff.js"><link rel="prefetch" href="/blog/vuepress/assets/js/vendors~notification.5c67a981.js">
    <link rel="stylesheet" href="/blog/vuepress/assets/css/0.styles.86b60527.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/vuepress/" class="home-link router-link-active"><img src="/blog/vuepress/logo.png" alt="前端学习笔记" class="logo"> <span class="site-name can-hide">前端学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">其他</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link router-link-active">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/vuepress/js/" class="nav-link">JS</a></div><div class="nav-item"><a href="/blog/vuepress/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/blog/vuepress/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/blog/vuepress/else/" class="nav-link">其他</a></div><div class="nav-item"><a href="/blog/vuepress/study/" class="nav-link router-link-active">study</a></div> <a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>study</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/vuepress/study/" class="sidebar-link">标签</a></li><li><a href="/blog/vuepress/study/DOM.html" class="sidebar-link">DOM</a></li><li><a href="/blog/vuepress/study/js_A.html" class="active sidebar-link">js 基础</a></li><li><a href="/blog/vuepress/study/js_AA.html" class="sidebar-link">js 进阶</a></li><li><a href="/blog/vuepress/study/js_AAA.html" class="sidebar-link">js 高级</a></li><li><a href="/blog/vuepress/study/css_A.html" class="sidebar-link">CSS A</a></li><li><a href="/blog/vuepress/study/css_AA.html" class="sidebar-link">CSS AA</a></li><li><a href="/blog/vuepress/study/css_AAA.html" class="sidebar-link">CSS AAA</a></li><li><a href="/blog/vuepress/study/performance.html" class="sidebar-link">性能</a></li><li><a href="/blog/vuepress/study/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/vuepress/study/vue_code.html" class="sidebar-link">vue code</a></li><li><a href="/blog/vuepress/study/algorithm.html" class="sidebar-link">算法</a></li><li><a href="/blog/vuepress/study/webpack_base.html" class="sidebar-link">webpack 基础</a></li><li><a href="/blog/vuepress/study/webpack_advance.html" class="sidebar-link">webpack 进阶</a></li><li><a href="/blog/vuepress/study/node_base.html" class="sidebar-link">node 基础</a></li><li><a href="/blog/vuepress/study/es6.html" class="sidebar-link">es6</a></li><li><a href="/blog/vuepress/study/questions.html" class="sidebar-link">问题</a></li><li><a href="/blog/vuepress/study/mobile.html" class="sidebar-link">移动端</a></li><li><a href="/blog/vuepress/study/http.html" class="sidebar-link">http</a></li><li><a href="/blog/vuepress/study/security.html" class="sidebar-link">安全性</a></li><li><a href="/blog/vuepress/study/diy.html" class="sidebar-link">DIY系列</a></li><li><a href="/blog/vuepress/study/api.html" class="sidebar-link">API</a></li><li><a href="/blog/vuepress/study/browser.html" class="sidebar-link">浏览器原理</a></li><li><a href="/blog/vuepress/study/conception.html" class="sidebar-link">概念</a></li><li><a href="/blog/vuepress/study/engineering.html" class="sidebar-link">工程化</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="js-基础"><a href="#js-基础" aria-hidden="true" class="header-anchor">#</a> js 基础</h1> <h2 id="ajax请求的过程"><a href="#ajax请求的过程" aria-hidden="true" class="header-anchor">#</a> ajax请求的过程 ?</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1.创建ajax对象</span>
<span class="token keyword">var</span> xhr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//为了兼容IE6</span>
    xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">'Microsoft.XMLHTTP'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 2.连接服务器</span>
<span class="token comment">// 连接服务器open(方法GET/POST，请求地址， 异步传输)</span>
xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span>  <span class="token string">'data.txt'</span><span class="token punctuation">,</span>  <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3.发送请求</span>
xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 4.接收返回数据</span>
<span class="token comment">/*
** 每当readyState改变时，就会触发onreadystatechange事件
** readyState属性存储有XMLHttpRequest的状态信息
** 0 ：请求未初始化
** 1 ：服务器连接已建立
** 2 ：请求已接受
** 3 : 请求处理中
** 4 ：请求已完成，且相应就绪
*/</span>
xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">/*
        ** Http状态码
        ** 1xx ：信息展示
        ** 2xx ：成功
        ** 3xx ：重定向
        ** 4xx : 客户端错误
        ** 5xx ：服务器端错误
        */</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">success</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>failed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">failed</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h2 id="dom事件流"><a href="#dom事件流" aria-hidden="true" class="header-anchor">#</a> DOM事件流 ?</h2> <p>传递方向：先自顶向下(capture阶段), 再自下而上(bubble阶段)，即先执行捕获类型的事件，再执行冒泡类型的事件，最后执行浏览器默认行为。</p> <p>参考<a href="https://juejin.im/post/5bf6330f6fb9a049b41c1934" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="js原型"><a href="#js原型" aria-hidden="true" class="header-anchor">#</a> js原型 ?</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>JS 在创建对象（不论是普通对象还是函数对象）的时候，都有一个叫做__proto__的内置属性，用于指向创建它的构造函数的原型对象，person._<em>proto</em>_ == Person.prototype。</li> <li>每个对象都有__proto__属性，但只有函数对象才有 prototype 属性</li> <li>所有对象的__proto__都指向其构造器的 prototype，如[]._<em>proto</em>_== Array.prototype。</li> <li>person 是 Person 的一个实例，构造函数的原型 Person.prototype，也是 Person 的一个实例。
实例的构造器就是 Person，=&gt;</li></ul> <p>person.constructor == Person，</p> <p>Person.prototype.constructor == Person，</p> <p>person._<em>proto</em>_ == Person.prototype。</p> <ul><li>所有函数对象__proto__都指向 Function.prototype，它是一个空函数。</li> <li>Function.prototype 是唯一一个typeof XXX.prototype为“function”的prototype，其他的都是“object”。</li></ul> <p>参考:
<a href="https://www.jianshu.com/p/dee9f8b14771" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.jianshu.com/p/652991a67186" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.jianshu.com/p/a4e1e7b6f4f8" target="_blank" rel="noopener noreferrer">3<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承 ?</h2> <p><a href="/blog/vuepress/study/es6.html#class">es6继承</a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Hello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

Hello<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'Hello '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Hello<span class="token punctuation">.</span><span class="token function-variable function">sayHelloAll</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">'Hello everyone!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Hello<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'World'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

HelloWorld<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Hello<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
HelloWorld<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> HelloWorld<span class="token punctuation">;</span>
HelloWorld<span class="token punctuation">.</span>sayHelloAll <span class="token operator">=</span> Hello<span class="token punctuation">.</span>sayHelloAll<span class="token punctuation">;</span>

HelloWorld<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">echo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>Hello<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>hello<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> hw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloWorld</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hw<span class="token punctuation">.</span><span class="token function">echo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>Hello<span class="token punctuation">.</span><span class="token function">sayHelloAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="js-类型及其判断"><a href="#js-类型及其判断" aria-hidden="true" class="header-anchor">#</a> js 类型及其判断 ?</h2> <h3 id="数据类型"><a href="#数据类型" aria-hidden="true" class="header-anchor">#</a> 数据类型</h3> <ul><li>基本数据类型：原始数据类型，包括undefined、null、Boolean、Number、String、Symbol (ES6新增，表示独一无二的值)。</li> <li>引用数据类型：统称为Object对象，主要包括对象、数组和函数。</li> <li>基本类型值的比较：
<ul><li>== 只进行值的比较,会进行数据类型的转换。</li> <li>===不仅进行值得比较，还要进行数据类型的比较。</li></ul></li> <li>引用类型值的比较：是引用的比较</li> <li>存储位置：基本类型存放在栈区，引用类型同时保存在栈和堆中，其指针存在栈区，指针指向堆中该实体的起始地址。</li></ul> <h3 id="类型判断"><a href="#类型判断" aria-hidden="true" class="header-anchor">#</a> 类型判断</h3> <h4 id="typeof"><a href="#typeof" aria-hidden="true" class="header-anchor">#</a> typeof</h4> <p><strong>typeof返回一个表示数据类型的字符串</strong>，返回结果包括：'number'、'boolean'、'string'、'symbol'、'object'、'undefined'、'function'等7种数据类型，
但不能判断null、array、Date、RegExp。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol 有效</span>
    <span class="token keyword">typeof</span> <span class="token string">''</span><span class="token punctuation">;</span> <span class="token comment">// string 有效</span>
    <span class="token keyword">typeof</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// number 有效</span>
    <span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//boolean 有效</span>
    <span class="token keyword">typeof</span> undefined<span class="token punctuation">;</span> <span class="token comment">//undefined 有效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function 有效</span>

    <span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
    <span class="token keyword">typeof</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//object 无效</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>数组和对象返回的都是object，这时就需要使用instanceof来判断。</p> <h4 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h4> <p><strong>instanceof 运算符用来测试一个对象在其原型链中是否存在一个构造函数的 prototype 属性。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span><span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="constructor"><a href="#constructor" aria-hidden="true" class="header-anchor">#</a> constructor</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> aa<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Array<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>aa<span class="token punctuation">.</span>constructor<span class="token operator">===</span>RegExp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>constructor<span class="token operator">===</span>Number<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>

    <span class="token keyword">var</span> reg<span class="token operator">=</span><span class="token regex">/^$/</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>constructor<span class="token operator">===</span>RegExp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span>constructor<span class="token operator">===</span>Object<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="object-prototype-tostring-call"><a href="#object-prototype-tostring-call" aria-hidden="true" class="header-anchor">#</a> Object.prototype.toString.call()</h4> <p><strong>Object.prototype.toString.call() 最准确最常用的方式</strong>。首先获取Object原型上的toString方法，让方法执行，让toString方法中的this指向第一个参数的值。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// [object String]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [object Number]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Boolean]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>undefined<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Undefined]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Null]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Function]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Date]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Array]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object RegExp]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Error]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object HTMLDocument]</span>
    Object<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[object Window] window是全局对象global的引用</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="注意点"><a href="#注意点" aria-hidden="true" class="header-anchor">#</a> 注意点</h4> <ul><li>instanceof 三大弊端：
<ul><li>对于基本数据类型来说，字面量方式创建出来的结果和实例方式创建的是有一定的区别的</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token comment">//false</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">)</span><span class="token comment">//true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>只要在当前实例的原型链上，我们用其检测出来的结果都是true。在类的原型继承中，我们最后检测出来的结果未必准确。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span><span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fn <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>不能检测null 和 undefined，对于特殊的数据类型null和undefined，他们的所属类是Null和Undefined，但是浏览器把这两个类保护起来了，不允许我们在外面访问使用。
从 Object.prototype.toString.call(null); // [object Null] 可以看出。
但可以这样</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//判断null</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">typeof</span> a <span class="token comment">// &quot;object&quot;;</span>
    a <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token comment">// true;</span>

    <span class="token comment">//判断undefined</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> undefined<span class="token punctuation">;</span>
    <span class="token keyword">typeof</span> b <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    b <span class="token operator">===</span> undefined <span class="token comment">// true;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li>constructor 两大弊端：
<ul><li>null 和 undefined 是无效的对象，因此是不会有 constructor 存在的，这两种类型的数据需要通过其他方式来判断。</li> <li>函数的 constructor 是不稳定的，这个主要体现在把类的原型进行重写，在重写的过程中很有可能出现把之前的constructor给覆盖了，这样检测出来的结果就是不准确的。</li></ul></li></ul> <p>参考
<a href="https://github.com/ljianshu/Blog/issues/4" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="跨域"><a href="#跨域" aria-hidden="true" class="header-anchor">#</a> 跨域 ?</h2> <ul><li>跨域并不是请求发不出去，请求能发出去，服务端能收到请求并正常返回结果，只是结果被浏览器拦截了。</li></ul> <p>解决跨域常用方案：</p> <ul><li>jsonp (JSON with Padding) 只支持GET请求</li> <li>CORS (Cross-origin resource sharing) 跨域HTTP请求的根本解决方案</li> <li>postMessage</li> <li>websocket</li> <li>Node中间件代理</li> <li>nginx反向代理</li> <li>window.name + iframe</li> <li>location.hash + iframe</li> <li>document.domain + iframe 只能用于二级域名相同的情况</li></ul> <p>参考
<a href="https://juejin.im/post/5c23993de51d457b8c1f4ee1" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://www.pandashen.com/2018/06/11/20180611010638/" target="_blank" rel="noopener noreferrer">2<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="isnan-和-number-isnan-区别"><a href="#isnan-和-number-isnan-区别" aria-hidden="true" class="header-anchor">#</a> isNaN 和 Number.isNaN 区别</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span> <span class="token comment">// NaN</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">typeof</span> a <span class="token comment">// 'number'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>isNaN(a);  // true
isNaN(b);  // true</p> <h2 id="number-isnan-a-truenumber-isnan-b-false"><a href="#number-isnan-a-truenumber-isnan-b-false" aria-hidden="true" class="header-anchor">#</a> Number.isNaN(a);  // true
Number.isNaN(b);  // false</h2> <p><a href="https://segmentfault.com/a/1190000015142897" target="_blank" rel="noopener noreferrer">1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新: </span> <span class="time">8/18/2019, 10:49:18 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/vuepress/study/DOM.html" class="prev">
          DOM
        </a></span> <span class="next"><a href="/blog/vuepress/study/js_AA.html">
          js 进阶
        </a>
        →
      </span></p></div>  <div class="comment-tool"><div id="gitalk-container"></div></div></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/blog/vuepress/assets/js/app.a4dc5b38.js" defer></script><script src="/blog/vuepress/assets/js/4.de79488f.js" defer></script><script src="/blog/vuepress/assets/js/109.2739fe0d.js" defer></script><script src="/blog/vuepress/assets/js/30.5de5a6dd.js" defer></script>
  </body>
</html>
