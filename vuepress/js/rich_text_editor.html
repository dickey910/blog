<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Denzel | 富文本编辑器了解一下</title>
    <meta name="description" content="前端笔记">
    <link rel="icon" href="/logo.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.9de29e70.css" as="style"><link rel="preload" href="/assets/js/app.ecfe702c.js" as="script"><link rel="preload" href="/assets/js/11.6e4bb20d.js" as="script"><link rel="prefetch" href="/assets/js/20.edaf903c.js"><link rel="prefetch" href="/assets/js/1.c828a9f5.js"><link rel="prefetch" href="/assets/js/2.b25cef6b.js"><link rel="prefetch" href="/assets/js/3.2bf15c91.js"><link rel="prefetch" href="/assets/js/4.77d29d12.js"><link rel="prefetch" href="/assets/js/5.ea5631f1.js"><link rel="prefetch" href="/assets/js/6.0b4d2359.js"><link rel="prefetch" href="/assets/js/7.dfdbeaae.js"><link rel="prefetch" href="/assets/js/8.411a06d1.js"><link rel="prefetch" href="/assets/js/9.cb2e47e6.js"><link rel="prefetch" href="/assets/js/10.7dde184f.js"><link rel="prefetch" href="/assets/js/12.b49be877.js"><link rel="prefetch" href="/assets/js/13.f5c13dcd.js"><link rel="prefetch" href="/assets/js/14.75062b8b.js"><link rel="prefetch" href="/assets/js/15.4b4d39d9.js"><link rel="prefetch" href="/assets/js/16.34fccc7b.js"><link rel="prefetch" href="/assets/js/17.fd611f3e.js"><link rel="prefetch" href="/assets/js/18.a6153e60.js"><link rel="prefetch" href="/assets/js/19.697d28a2.js"><link rel="prefetch" href="/assets/js/21.e6b5d9a1.js"><link rel="prefetch" href="/assets/js/22.7732883e.js"><link rel="prefetch" href="/assets/js/23.5eed6c06.js"><link rel="prefetch" href="/assets/js/24.8308fb72.js"><link rel="prefetch" href="/assets/js/25.9e53ea2c.js"><link rel="prefetch" href="/assets/js/26.23e73e33.js"><link rel="prefetch" href="/assets/js/27.d8b91729.js"><link rel="prefetch" href="/assets/js/28.ad203c19.js"><link rel="prefetch" href="/assets/js/29.09eeabda.js"><link rel="prefetch" href="/assets/js/30.88676f2f.js"><link rel="prefetch" href="/assets/js/31.91daef6a.js"><link rel="prefetch" href="/assets/js/32.a0ca62e2.js"><link rel="prefetch" href="/assets/js/33.2d7a31a4.js"><link rel="prefetch" href="/assets/js/34.c0ca62fa.js"><link rel="prefetch" href="/assets/js/35.4a9747b7.js"><link rel="prefetch" href="/assets/js/36.3be5cf75.js"><link rel="prefetch" href="/assets/js/37.f0991016.js"><link rel="prefetch" href="/assets/js/38.72b6dcc9.js"><link rel="prefetch" href="/assets/js/39.63784595.js"><link rel="prefetch" href="/assets/js/40.835303c9.js"><link rel="prefetch" href="/assets/js/41.43829e70.js"><link rel="prefetch" href="/assets/js/42.e811ffa0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9de29e70.css">
    <!-- <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"> -->
    <!-- <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>  -->
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><img src="/hero.png" class="logo"><span class="site-name can-hide">
      Denzel
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/else/" class="nav-link">其他</a></div><a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/js/" class="nav-link router-link-active">JS</a></div><div class="nav-item"><a href="/css/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/html/" class="nav-link">HTML</a></div><div class="nav-item"><a href="/else/" class="nav-link">其他</a></div><a href="https://github.com/xiaotianxia" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>JS</span><!----></p><ul class="sidebar-group-items"><li><a href="/js/" class="sidebar-link">目录</a></li><li><a href="/js/editable_dom.html" class="sidebar-link">可编辑的页面——designMode、contenteditable和user-modify</a></li><li><a href="/js/useful_webapis_fullscreen.html" class="sidebar-link">几个有用的Web API——全屏模式</a></li><li><a href="/js/useful_webapis_notification.html" class="sidebar-link">几个有用的Web API——桌面通知API</a></li><li><a href="/js/useful_webapis_connection.html" class="sidebar-link">几个有用的Web API——网络状态API</a></li><li><a href="/js/useful_webapis_geolocation.html" class="sidebar-link">几个有用的Web API——地理位置API</a></li><li><a href="/js/speech_in_js_recognition.html" class="sidebar-link">JS中的语音识别——Speech Recognition API</a></li><li><a href="/js/speech_in_js_synthesis.html" class="sidebar-link">JS中的语音合成——Speech Synthesis API</a></li><li><a href="/js/camera_in_js_trial.html" class="sidebar-link">JS控制设备摄像头初探</a></li><li><a href="/js/shape_detection_api_trial.html" class="sidebar-link">浏览器的图像识别API初探</a></li><li><a href="/js/simple_chatroom_using_socketio.html" class="sidebar-link">socket.io实现简单群聊</a></li><li><a href="/js/communication_using_postmessage.html" class="sidebar-link">postMessage实现父子页面简单通信</a></li><li><a href="/js/upload_using_filereader_createobjecturl.html" class="sidebar-link">FileReader与URL.createObjectURL实现图片、视频上传预览</a></li><li><a href="/js/simple_code_preview.html" class="sidebar-link">前端几行代码简单实现w3school代码预览</a></li></ul></div></li></ul></div><div class="page"><div class="content"><h1 id="富文本编辑器了解一下"><a href="#富文本编辑器了解一下" aria-hidden="true" class="header-anchor">#</a> 富文本编辑器了解一下</h1><h2 id="简介"><a href="#简介" aria-hidden="true" class="header-anchor">#</a> 简介</h2><p>本来想学者造个轮子，做个功能还可以的富文本编辑器啥的。查了资料才发现，这玩意真实“天坑”啊。
参考知乎这篇<a href="https://www.zhihu.com/question/38699645" target="_blank" rel="noopener noreferrer">文章</a>。</p><h3 id="execcommand"><a href="#execcommand" aria-hidden="true" class="header-anchor">#</a> execCommand</h3><pre class="language-js"><code><span class="token comment">// 一个 Boolean ，如果是 false 则表示操作不被支持或未被启用。</span>
bool <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span>aCommandName<span class="token punctuation">,</span> aShowDefaultUI<span class="token punctuation">,</span> aValueArgument<span class="token punctuation">)</span>
</code></pre><ul><li>aCommandName: 一个 DOMString ，命令的名称。可用命令列表请参阅 命令 。</li><li>aShowDefaultUI: 一个 Boolean， 是否展示用户界面，一般为 false。Mozilla 没有实现。</li><li>aValueArgument: 一些命令（例如insertImage）需要额外的参数（insertImage需要提供插入image的url），默认为null。</li></ul><p>一个 Boolean ，如果是 false 则表示操作不被支持或未被启用。</p><h3 id="参数"><a href="#参数" aria-hidden="true" class="header-anchor">#</a> 参数</h3><h4 id="acommandname"><a href="#acommandname" aria-hidden="true" class="header-anchor">#</a> aCommandName</h4><p>一个 DOMString ，命令的名称。可用命令列表请参阅 命令 。</p><h4 id="ashowdefaultui"><a href="#ashowdefaultui" aria-hidden="true" class="header-anchor">#</a> aShowDefaultUI</h4><p>一个 Boolean， 是否展示用户界面，一般为 false。Mozilla 没有实现。</p><h4 id="avalueargument"><a href="#avalueargument" aria-hidden="true" class="header-anchor">#</a> aValueArgument</h4><p>一些命令（例如insertImage）需要额外的参数（insertImage需要提供插入image的url），默认为null。
命令</p><h4 id="backcolor"><a href="#backcolor" aria-hidden="true" class="header-anchor">#</a> backColor</h4><p>修改文档的背景颜色。在styleWithCss模式下，则只影响容器元素的背景颜色。这需要一个;&amp;ltcolor;&amp;gt 类型的字符串值作为参数传入。注意，IE浏览器用这个设置文字的背景颜色。</p><h4 id="bold"><a href="#bold" aria-hidden="true" class="header-anchor">#</a> bold</h4><p>开启或关闭选中文字或插入点的粗体字效果。IE浏览器使用 ;&amp;ltstrong;&amp;gt标签，而不是;&amp;ltb;&amp;gt标签。</p><h4 id="contentreadonly"><a href="#contentreadonly" aria-hidden="true" class="header-anchor">#</a> contentReadOnly</h4><p>通过传入一个布尔类型的参数来使能文档内容的可编辑性。(IE浏览器不支持)</p><h4 id="copy"><a href="#copy" aria-hidden="true" class="header-anchor">#</a> copy</h4><p>拷贝当前选中内容到剪贴板。启用这个功能的条件因浏览器不同而不同，而且不同时期，其启用条件也不尽相同。使用之前请检查浏览器兼容表，以确定是否可用。</p><h4 id="createlink"><a href="#createlink" aria-hidden="true" class="header-anchor">#</a> createLink</h4><p>将选中内容创建为一个锚链接。这个命令需要一个HREF URI字符串作为参数值传入。URI必须包含至少一个字符，例如一个空格。（浏览器会创建一个空链接）</p><h4 id="cut"><a href="#cut" aria-hidden="true" class="header-anchor">#</a> cut</h4><p>剪贴当前选中的文字并复制到剪贴板。启用这个功能的条件因浏览器不同而不同，而且不同时期，其启用条件也不尽相同。使用之前请检查浏览器兼容表，以确定是否可用。</p><h4 id="decreasefontsize"><a href="#decreasefontsize" aria-hidden="true" class="header-anchor">#</a> decreaseFontSize</h4><p>给选中文字加上 ;&amp;ltsmall;&amp;gt 标签，或在选中点插入该标签。(IE浏览器不支持)</p><h4 id="delete"><a href="#delete" aria-hidden="true" class="header-anchor">#</a> delete</h4><p>删除选中部分.</p><h4 id="enableinlinetableediting"><a href="#enableinlinetableediting" aria-hidden="true" class="header-anchor">#</a> enableInlineTableEditing</h4><p>启用或禁用表格行和列插入和删除控件。(IE浏览器不支持)</p><h4 id="enableobjectresizing"><a href="#enableobjectresizing" aria-hidden="true" class="header-anchor">#</a> enableObjectResizing</h4><p>启用或禁用图像和其他对象的大小可调整大小手柄。(IE浏览器不支持)</p><h4 id="fontname"><a href="#fontname" aria-hidden="true" class="header-anchor">#</a> fontName</h4><p>在插入点或者选中文字部分修改字体名称. 需要提供一个字体名称字符串 (例如：&quot;Arial&quot;)作为参数。</p><h4 id="fontsize"><a href="#fontsize" aria-hidden="true" class="header-anchor">#</a> fontSize</h4><p>在插入点或者选中文字部分修改字体大小. 需要提供一个HTML字体尺寸 (1-7) 作为参数。</p><h4 id="forecolor"><a href="#forecolor" aria-hidden="true" class="header-anchor">#</a> foreColor</h4><p>在插入点或者选中文字部分修改字体颜色. 需要提供一个颜色值字符串作为参数。</p><h4 id="formatblock"><a href="#formatblock" aria-hidden="true" class="header-anchor">#</a> formatBlock</h4><p>添加一个HTML块式标签在包含当前选择的行, 如果已经存在了，更换包含该行的块元素 (在 Firefox中, BLOCKQUOTE 是一个例外 -它将包含任何包含块元素). 需要提供一个标签名称字符串作为参数。几乎所有的块样式标签都可以使用(例如. &quot;H1&quot;, &quot;P&quot;, &quot;DL&quot;, &quot;BLOCKQUOTE&quot;). (IE浏览器仅仅支持标题标签 H1 - H6, ADDRESS, 和 PRE,使用时还必须包含标签分隔符 ;&amp;lt ;&amp;gt, 例如 &quot;;&amp;ltH1;&amp;gt&quot;.)</p><h4 id="forwarddelete"><a href="#forwarddelete" aria-hidden="true" class="header-anchor">#</a> forwardDelete</h4><p>删除光标所在位置的字符。 和按下删除键一样。</p><h4 id="heading"><a href="#heading" aria-hidden="true" class="header-anchor">#</a> heading</h4><p>添加一个标题标签在光标处或者所选文字上。 需要提供标签名称字符串作为参数 (例如. &quot;H1&quot;, &quot;H6&quot;). (IE 和 Safari不支持)</p><h4 id="hilitecolor"><a href="#hilitecolor" aria-hidden="true" class="header-anchor">#</a> hiliteColor</h4><p>更改选择或插入点的背景颜色。需要一个颜色值字符串作为值参数传递。 UseCSS 必须开启此功能。(IE浏览器不支持)</p><h4 id="increasefontsize"><a href="#increasefontsize" aria-hidden="true" class="header-anchor">#</a> increaseFontSize</h4><p>在选择或插入点周围添加一个BIG标签。(IE浏览器不支持)</p><h4 id="indent"><a href="#indent" aria-hidden="true" class="header-anchor">#</a> indent</h4><p>缩进选择或插入点所在的行， 在 Firefox 中, 如果选择多行，但是这些行存在不同级别的缩进, 只有缩进最少的行被缩进。</p><h4 id="insertbronreturn"><a href="#insertbronreturn" aria-hidden="true" class="header-anchor">#</a> insertBrOnReturn</h4><p>控制当按下Enter键时，是插入 br 标签还是把当前块元素变成两个。(IE浏览器不支持)</p><h4 id="inserthorizontalrule"><a href="#inserthorizontalrule" aria-hidden="true" class="header-anchor">#</a> insertHorizontalRule</h4><p>在插入点插入一个水平线（删除选中的部分）</p><h4 id="inserthtml"><a href="#inserthtml" aria-hidden="true" class="header-anchor">#</a> insertHTML</h4><p>在插入点插入一个HTML字符串（删除选中的部分）。需要一个个HTML字符串作为参数。(IE浏览器不支持)</p><h4 id="insertimage"><a href="#insertimage" aria-hidden="true" class="header-anchor">#</a> insertImage</h4><p>在插入点插入一张图片（删除选中的部分）。需要一个image SRC URI作为参数。这个URI至少包含一个字符。空白字符也可以（IE会创建一个链接其值为null）</p><h4 id="insertorderedlist"><a href="#insertorderedlist" aria-hidden="true" class="header-anchor">#</a> insertOrderedList</h4><p>在插入点或者选中文字上创建一个有序列表</p><h4 id="insertunorderedlist"><a href="#insertunorderedlist" aria-hidden="true" class="header-anchor">#</a> insertUnorderedList</h4><p>在插入点或者选中文字上创建一个无序列表。</p><h4 id="insertparagraph"><a href="#insertparagraph" aria-hidden="true" class="header-anchor">#</a> insertParagraph</h4><p>在选择或当前行周围插入一个段落。(IE会在插入点插入一个段落并删除选中的部分.)</p><h4 id="inserttext"><a href="#inserttext" aria-hidden="true" class="header-anchor">#</a> insertText</h4><p>在光标插入位置插入文本内容或者覆盖所选的文本内容。</p><h4 id="italic"><a href="#italic" aria-hidden="true" class="header-anchor">#</a> italic</h4><p>在光标插入点开启或关闭斜体字。 (Internet Explorer 使用 EM 标签，而不是 I )</p><h4 id="justifycenter"><a href="#justifycenter" aria-hidden="true" class="header-anchor">#</a> justifyCenter</h4><p>对光标插入位置或者所选内容进行文字居中。</p><h4 id="justifyfull"><a href="#justifyfull" aria-hidden="true" class="header-anchor">#</a> justifyFull</h4><p>对光标插入位置或者所选内容进行文本对齐。</p><h4 id="justifyleft"><a href="#justifyleft" aria-hidden="true" class="header-anchor">#</a> justifyLeft</h4><p>对光标插入位置或者所选内容进行左对齐。</p><h4 id="justifyright"><a href="#justifyright" aria-hidden="true" class="header-anchor">#</a> justifyRight</h4><p>对光标插入位置或者所选内容进行右对齐。</p><h4 id="outdent"><a href="#outdent" aria-hidden="true" class="header-anchor">#</a> outdent</h4><p>对光标插入行或者所选行内容减少缩进量。</p><h4 id="paste"><a href="#paste" aria-hidden="true" class="header-anchor">#</a> paste</h4><p>在光标位置粘贴剪贴板的内容，如果有被选中的内容，会被替换。剪贴板功能必须在 user.js 配置文件中启用。参阅 [1].</p><h4 id="redo"><a href="#redo" aria-hidden="true" class="header-anchor">#</a> redo</h4><p>重做被撤销的操作。
####removeFormat
对所选内容去除所有格式
####selectAll
选中编辑区里的全部内容。
####strikeThrough
在光标插入点开启或关闭删除线。</p><h4 id="subscript"><a href="#subscript" aria-hidden="true" class="header-anchor">#</a> subscript</h4><p>在光标插入点开启或关闭下角标。</p><h4 id="superscript"><a href="#superscript" aria-hidden="true" class="header-anchor">#</a> superscript</h4><p>在光标插入点开启或关闭上角标。</p><h4 id="underline"><a href="#underline" aria-hidden="true" class="header-anchor">#</a> underline</h4><p>在光标插入点开启或关闭下划线。</p><h4 id="undo"><a href="#undo" aria-hidden="true" class="header-anchor">#</a> undo</h4><p>撤销最近执行的命令。</p><h4 id="unlink"><a href="#unlink" aria-hidden="true" class="header-anchor">#</a> unlink</h4><p>去除所选的锚链接的;&amp;lta;&amp;gt标签</p><h4 id="usecss"><a href="#usecss" aria-hidden="true" class="header-anchor">#</a> useCSS</h4><p>切换使用 HTML tags 还是 CSS 来生成标记. 要求一个布尔值 true/false 作为参数。注: 这个属性是逻辑上的倒退 (例如. use false to use CSS, true to use HTML).(IE不支持)
该属性已经废弃，使用 styleWithCSS 代替。</p><h4 id="stylewithcss"><a href="#stylewithcss" aria-hidden="true" class="header-anchor">#</a> styleWithCSS</h4><p>用这个取代 useCSS 命令。 参数如预期的那样工作, i.e. true modifies/generates 风格的标记属性, false 生成格式化元素。</p><h2 id="参考资料"><a href="#参考资料" aria-hidden="true" class="header-anchor">#</a> 参考资料</h2></div><div class="beg-wrapper"><a href="javascript:;" class="btn show"><img src="http://p8rbt50i2.bkt.clouddn.com/blogshang_log.png"></a><p class="shang-txt">赏不赏，看您心情</p><img src="http://p8rbt50i2.bkt.clouddn.com/blogWechatIMG35.jpeg" class="shangImg"></div><!----><!----></div></div></div>
    <script src="/assets/js/11.6e4bb20d.js" defer></script><script src="/assets/js/app.ecfe702c.js" defer></script>
  </body>
</html>
